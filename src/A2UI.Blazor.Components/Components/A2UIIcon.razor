@inherits A2UIComponentBase
@using A2UI.Core.Processing
@inject DataBindingResolver BindingResolver

<span class="@GetCssClass()" style="@GetInlineStyle()">
    @GetIconCharacter(ResolvedIconName)
</span>

@code {
    private string? ResolvedIconName;

    protected override void OnParametersSet()
    {
        base.OnParametersSet();

        // Get the icon name bound value
        var nameValue = GetDictionaryProperty("name");
        if (nameValue != null)
        {
            ResolvedIconName = BindingResolver.ResolveString(nameValue, SurfaceId, Component.DataContextPath);
        }
    }

    protected override string GetCssClass()
    {
        return Theme.Components.Icon;
    }

    // Simple icon mapping - in a real implementation, this would use Material Icons or similar
    private string GetIconCharacter(string? iconName)
    {
        return iconName?.ToLower() switch
        {
            "accountcircle" => "ðŸ‘¤",
            "add" => "âž•",
            "arrowback" => "â¬…ï¸",
            "arrowforward" => "âž¡ï¸",
            "attachfile" => "ðŸ“Ž",
            "calendartoday" => "ðŸ“…",
            "call" => "ðŸ“ž",
            "camera" => "ðŸ“·",
            "check" => "âœ“",
            "close" => "âœ•",
            "delete" => "ðŸ—‘ï¸",
            "edit" => "âœï¸",
            "email" => "âœ‰ï¸",
            "favorite" => "â¤ï¸",
            "home" => "ðŸ ",
            "info" => "â„¹ï¸",
            "menu" => "â˜°",
            "search" => "ðŸ”",
            "settings" => "âš™ï¸",
            "star" => "â­",
            "warning" => "âš ï¸",
            _ => "â—‰"
        };
    }
}

